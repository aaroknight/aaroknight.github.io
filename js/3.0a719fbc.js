(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"4b86":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-card",{staticClass:"q-ma-md"},[s("q-card-section",[s("q-input",{attrs:{clearable:"",outlined:"","clear-icon":"close",label:"Searcho"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchoClicked(t)}},scopedSlots:e._u([{key:"after",fn:function(){return[s("q-btn",{staticClass:"q-ma-md",attrs:{"icon-right":"search",color:"secondary"},on:{click:e.searchoClicked}})]},proxy:!0}]),model:{value:e.searchoText,callback:function(t){e.searchoText=t},expression:"searchoText"}})],1)],1),s("q-card",{staticClass:"q-ma-md text-center"},[s("div",{staticClass:"text-h6 q-ml-md q-pt-md"},[e._v("\n        The Latest and Greatest\n      ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.searchoTopSuccess,expression:"searchoTopSuccess"}],staticClass:"flex justify-evenly"},[e._l(e.topAnime.slice(0,6),(function(t){return s("div",{key:t.mal_id,staticStyle:{transform:"scale(0.8)"}},[s("TopCard",e._b({staticStyle:{width:"300px"},attrs:{"blurred-img":e.mustBlur(t.rated)},on:{newsClicked:e.getNewsById}},"TopCard",t,!1))],1)})),s("q-img",{directives:[{name:"show",rawName:"v-show",value:e.searchoTopNoSuccess,expression:"searchoTopNoSuccess"}],staticClass:"q-ma-md rounded-borders",staticStyle:{"max-width":"300px"},attrs:{src:"https://i.pinimg.com/originals/66/6e/59/666e59a6a8e6982d099a552eb6cdd99f.jpg"}},[s("div",{staticClass:"absolute-top text-subtitle1 text-center"},[e._v("\n          Nuffin there\n        ")])])],2)]),s("q-space"),s("div",{staticClass:"q-pa-md center",attrs:{align:"center"}},[s("q-carousel",{staticClass:"secondary text-white shadow-1 rounded-borders",staticStyle:{width:"600px"},attrs:{"transition-prev":"scale","transition-next":"scale",animated:"","control-color":"white",infinite:"",padding:"",arrows:"",swipeable:"",height:"800px"},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},e._l(e.articles,(function(t,a){return s("q-carousel-slide",{key:a,staticClass:"bg-primary",attrs:{name:t}},[s("q-scroll-area",{staticClass:"fit"},[s("div",{staticClass:"text-h5 q-ma-md text-center"},[e._v("\n            "+e._s(t.title)+"\n          ")]),s("q-img",{attrs:{tag:"a",target:"_blank",href:t.url,contain:"",height:"500px",src:t.image_url}}),s("div",{staticClass:"text-h6 content-center q-ma-lg text-center"},[e._v("\n            "+e._s(t.intro)+"\n            "),s("a",{staticClass:"text-accent",attrs:{href:t.url,target:"_blank"}},[e._v("[Reado more!]")])])],1)],1)})),1)],1),s("q-img",{directives:[{name:"show",rawName:"v-show",value:e.searchoNewsNoSuccess,expression:"searchoNewsNoSuccess"}],staticClass:"q-ma-md rounded-borders",staticStyle:{"max-width":"300px"},attrs:{src:"https://i.pinimg.com/originals/66/6e/59/666e59a6a8e6982d099a552eb6cdd99f.jpg"}},[s("div",{staticClass:"absolute-top text-subtitle1 text-center"},[e._v("\n      Nuffin there\n    ")])])],1)},c=[],o=(s("fb6a"),s("e6cf"),s("ddb0"),s("680c")),i=s.n(o),r=s("bc3a"),n=s.n(r),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-card",{staticClass:"aniCard q-ma-md",attrs:{flat:"",bordered:""},nativeOn:{mouseover:function(t){e.expanded=!0},mouseleave:function(t){e.expanded=!1}}},[s("div",[s("q-img",{attrs:{id:"animeImg",height:"300px",contain:"",src:e.image_url},on:{click:function(t){e.blurredImg=!e.blurredImg}}}),s("q-chip",{staticClass:"q-ma-sm absolute-top-left",attrs:{color:"secondary","text-color":"white"}},[e._v("\n      Rank: "+e._s(e.rank)+"\n    ")])],1),s("q-card-section",[s("q-rating",{attrs:{max:"10",size:"1.5em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},model:{value:e.score,callback:function(t){e.score=t},expression:"score"}}),s("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[e._v("\n      "+e._s(e.title)+"\n    ")])],1),s("q-slide-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}]},[s("q-separator"),s("q-card-actions",{staticClass:"flex justify-center"},[s("q-btn",{attrs:{flat:"",color:"secondary",type:"a",href:e.getYTUrl(),target:"_blank",icon:"fab fa-youtube",label:"Videos"}}),s("q-btn",{attrs:{flat:"",color:"secondary",type:"a",href:e.url,target:"_blank",icon:"fas fa-info-circle",label:"More Info"}}),s("q-btn",{attrs:{flat:"",color:"secondary",icon:"far fa-newspaper",label:"News"},on:{click:e.btnClicked}})],1)],1)])],1)},h=[],d={name:"TopCard",data:function(){return{selected:!1,expanded:!1}},props:{mal_id:{type:Number},rank:{type:Number},title:{type:String},url:{type:String},image_url:{type:String},score:{type:Number}},methods:{getYTUrl:function(){return"https://www.youtube.com/results?search_query="+this.title},btnClicked:function(){this.$emit("newsClicked",[this.mal_id,this.title])}}},u=d,p=(s("fb66"),s("2877")),m=s("f09f"),f=s("068f"),g=s("b047"),w=s("a370"),b=s("daf4"),x=s("e9c1"),y=s("eb85"),v=s("4b7e"),N=s("9c40"),S=s("eebe"),C=s.n(S),q=Object(p["a"])(u,l,h,!1,null,"158633cf",null),_=q.exports;async function k(){return new Promise((e=>setTimeout(e,2001)))}C()(q,"components",{QCard:m["a"],QImg:f["a"],QChip:g["a"],QCardSection:w["a"],QRating:b["a"],QSlideTransition:x["a"],QSeparator:y["a"],QCardActions:v["a"],QBtn:N["a"]}),n.a.interceptors.request.use((e=>(console.log(e),e))),n.a.interceptors.response.use((e=>(console.log(e),e)));var T={name:"Search",components:{TopCard:_},data(){return{slide:"style",searchoTopSuccess:!1,searchoTopNoSuccess:!1,searchoNewsSuccess:!1,searchoNewsNoSuccess:!1,searchoText:"",searchoRes:[],topAnime:[],articles:[]}},created(){n.a.get("https://api.jikan.moe/v3/top/anime/1/airing").then((e=>{0===e.data.top.length?(this.searchoTopNoSuccess=!0,this.searchoTopSuccess=!1):(this.searchoTopNoSuccess=!1,this.searchoTopSuccess=!0),this.topAnime=e.data.top,console.info(this.topAnime.length),this.getNews(this.topAnime.slice(0,5))})).catch((e=>{this.searchoTopSuccess=!1,this.searchoTopNoSuccess=!0,console.log(e)}))},methods:{searchoClicked:function(){this.getNewsByText(),console.info("Searcho!")},getNews:async function(e){this.articles=[],this.slide="style",console.info("getNews");var t,s=!0,a=!1;try{for(var c,o,r=i()(e);c=await r.next(),s=c.done,o=await c.value,!s;s=!0){const e=o;await k();const t="https://api.jikan.moe/v3/anime/"+e.mal_id.toString()+"/news";n.a.get(t).then((t=>{if(0===t.data.articles.length)console.info("No articles for anime: "+e.title);else for(const e of t.data.articles.slice(0,5)){const t=[];for(const e of this.articles)t.push(e.url);t.includes(e.url)||(this.articles.push(e),console.info("Adding article: "+e.intro))}})).then((()=>{"style"===this.slide&&(this.slide=this.articles[0])})).catch((e=>{console.log(e)}))}}catch(l){a=!0,t=l}finally{try{s||null==r.return||await r.return()}finally{if(a)throw t}}0===this.articles?(this.searchoNewsNoSuccess=!0,this.searchoNewsSuccess=!1):(this.searchoNewsNoSuccess=!1,this.searchoNewsSuccess=!0)},getNewsById:function([e,t]){console.info("getNewsById");const s="https://api.jikan.moe/v3/anime/"+e.toString()+"/news";n.a.get(s).then((e=>{0===e.data.articles.length?(console.info("No articles for anime: "+t),this.searchoNewsNoSuccess=!0,this.searchoNewsSuccess=!1):(this.slide="style",this.articles=e.data.articles,this.searchoNewsNoSuccess=!1,this.searchoNewsSuccess=!0)})).then((()=>{"style"===this.slide&&(this.slide=this.articles[0])})).catch((e=>{console.log(e)}))},getNewsByText:function(){console.info("getNewsByText");const e={q:this.searchoText};n.a.get("https://api.jikan.moe/v3/search/anime",{params:e}).then((e=>{0===e.data.results.length?(console.info("NULL"),this.searchoNoSuccess=!0,this.searchoSuccess=!1):(this.searchoNoSuccess=!1,this.searchoSuccess=!0),this.searchoRes=e.data.results,this.getNews(this.searchoRes.slice(0,5))})).catch((e=>{this.searchoSuccess=!1,this.searchoNoSuccess=!0,console.log(e)}))},mustBlur:function(e){return!this.nsfw&&("R+"===e||"Rx"===e)}}},Q=T,j=s("27f9"),B=s("2c91"),I=s("880c"),A=s("62cd"),R=s("4983"),O=Object(p["a"])(Q,a,c,!1,null,"68817b66",null);t["default"]=O.exports;C()(O,"components",{QCard:m["a"],QCardSection:w["a"],QInput:j["a"],QBtn:N["a"],QImg:f["a"],QSpace:B["a"],QCarousel:I["a"],QCarouselSlide:A["a"],QScrollArea:R["a"]})},cc0f:function(e,t,s){},fb66:function(e,t,s){"use strict";s("cc0f")}}]);